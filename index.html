<html>
    
    <head>
        <title>Web Parrot</title>
    </head>
    
    <body>
        <br><br><br>
        <center>Allow microphone access to begin.</center>
    </body>
    
    <script>
        window.AudioContext = window.AudioContext || window.webkitAudioContext;
        audioContext = new AudioContext();
        try {
            navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia;
            
            // ask for an audio input
            navigator.getUserMedia(
                                   {
                                   "audio": {
                                   "mandatory": {
                                   "googEchoCancellation": "false",
                                   "googAutoGainControl": "false",
                                   "googNoiseSuppression": "false",
                                   "googHighpassFilter": "false"
                                   },
                                   "optional": []
                                   },
                                   }, gotStream, didntGetStream);
        } catch (e) {
            alert('getUserMedia threw exception :' + e);
        }
        function didntGetStream() {
            alert('Stream generation failed.');
        }
    
        var mediaStreamSource = null;
    
        function gotStream(stream) {
            // Create an AudioNode from the stream.
            mediaStreamSource = audioContext.createMediaStreamSource(stream);
        
        }
    </script>
    
</html>